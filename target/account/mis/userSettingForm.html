<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>油品油料管理</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- STYLESHEETS --><!--[if lt IE 9]>
    <script src="js/flot/excanvas.min.js"></script>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script><![endif]-->
    <link rel="stylesheet" type="text/css" href="css/cloud-admin.css">
    <link rel="stylesheet" type="text/css" href="css/themes/default.css" id="skin-switcher">
    <link rel="stylesheet" type="text/css" href="css/responsive.css">

    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="js/tablecloth/css/tablecloth.min.css"/>
        <link rel="stylesheet" type="text/css" href="css/cloud-admin.css">
    <link rel="stylesheet" type="text/css" href="css/themes/default.css" id="skin-switcher">
    <link rel="stylesheet" type="text/css" href="css/responsive.css">
    <link rel="stylesheet" type="text/css" href="css/circle.percent.css">
    <!-- STYLESHEETS --><!--[if lt IE 9]>
    <script src="js/flot/excanvas.min.js"></script>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script><![endif]-->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- ANIMATE -->
    <link rel="stylesheet" type="text/css" href="css/animatecss/animate.min.css"/>
    


</head>
<body>
<header class="navbar clearfix" id="header">
    <div class="container">
        <div class="navbar-brand">
            <!-- COMPANY LOGO -->
            <a href="misindex.html">
                <img src="img/logo/logo.png" alt="Cloud Admin Logo" class="img-responsive" height="30" width="120">
            </a>
            <!-- /COMPANY LOGO -->
            <!-- TEAM STATUS FOR MOBILE -->
            <div class="visible-xs">
                <a href="mis#" class="team-status-toggle switcher btn dropdown-toggle">
                    <i class="fa fa-users"></i>
                </a>
            </div>
            <!-- /TEAM STATUS FOR MOBILE -->
            <!-- SIDEBAR COLLAPSE -->
            <div id="sidebar-collapse" class="sidebar-collapse btn">
                <i class="fa fa-bars"
                   data-icon1="fa fa-bars"
                   data-icon2="fa fa-bars"></i>
            </div>
            <!-- /SIDEBAR COLLAPSE -->
        </div>
        <!-- NAVBAR LEFT -->
        <ul class="nav navbar-nav pull-left hidden-xs" id="navbar-left">
            <li class="dropdown">
                <a href="mis#" class="team-status-toggle dropdown-toggle tip-bottom" data-toggle="tooltip"
                   title="Toggle Team View">
                    <i class="fa fa-users"></i>
                    <span class="name">Team Status</span>
                    <i class="fa fa-angle-down"></i>
                </a>
            </li>
            <li class="dropdown">
                <a href="mis#" class="dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-cog"></i>
                    <span class="name">Skins</span>
                    <i class="fa fa-angle-down"></i>
                </a>
                <ul class="dropdown-menu skins">
                    <li class="dropdown-title">
                        <span><i class="fa fa-leaf"></i> Theme Skins</span>
                    </li>
                    <li><a href="mis#" data-skin="default">Subtle (default)</a></li>
                    <li><a href="mis#" data-skin="night">Night</a></li>
                    <li><a href="mis#" data-skin="earth">Earth</a></li>
                    <li><a href="mis#" data-skin="utopia">Utopia</a></li>
                    <li><a href="mis#" data-skin="nature">Nature</a></li>
                    <li><a href="mis#" data-skin="graphite">Graphite</a></li>
                </ul>
            </li>
        </ul>
        <!-- /NAVBAR LEFT -->
        <!-- BEGIN TOP NAVIGATION MENU -->
        <ul class="nav navbar-nav pull-right">
            <!-- BEGIN NOTIFICATION DROPDOWN -->
            <li class="dropdown" id="header-notification">
                <a href="mis#" class="dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-bell"></i>
                    <span class="badge">7</span>

                </a>
                <ul class="dropdown-menu notification">
                    <li class="dropdown-title">
                        <span><i class="fa fa-bell"></i> 7 Notifications</span>
                    </li>
                    <li>
                        <a href="mis#">
                            <span class="label label-success"><i class="fa fa-user"></i></span>
									<span class="body">
										<span class="message">5 users online. </span>
										<span class="time">
											<i class="fa fa-clock-o"></i>
											<span>Just now</span>
										</span>
									</span>
                        </a>
                    </li>
                    <li class="footer">
                        <a href="mis#">See all notifications <i class="fa fa-arrow-circle-right"></i></a>
                    </li>
                </ul>
            </li>
            <!-- END NOTIFICATION DROPDOWN -->
            <!-- BEGIN INBOX DROPDOWN -->
            <li class="dropdown" id="header-message">
                <a href="mis#" class="dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-envelope"></i>
                    <span class="badge">3</span>
                </a>
                <ul class="dropdown-menu inbox">
                    <li class="dropdown-title">
                        <span><i class="fa fa-envelope-o"></i> 3 Messages</span>
                        <span class="compose pull-right tip-right" title="Compose message"><i
                                class="fa fa-pencil-square-o"></i></span>
                    </li>
                    <li>
                        <a href="mis#">
                            <img src="img/avatars/avatar2.jpg" alt=""/>
									<span class="body">
										<span class="from">Jane Doe</span>
										<span class="message">
										Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse mole ...
										</span>
										<span class="time">
											<i class="fa fa-clock-o"></i>
											<span>Just Now</span>
										</span>
									</span>

                        </a>
                    </li>
                    <li class="footer">
                        <a href="mis#">See all messages <i class="fa fa-arrow-circle-right"></i></a>
                    </li>
                </ul>
            </li>
            <!-- END INBOX DROPDOWN -->
            <!-- BEGIN TODO DROPDOWN -->
            <li class="dropdown" id="header-tasks">
                <a href="mis#" class="dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-tasks"></i>
                    <span class="badge">3</span>
                </a>
                <ul class="dropdown-menu tasks">
                    <li class="dropdown-title">
                        <span><i class="fa fa-check"></i> 6 tasks in progress</span>
                    </li>
                    <li>
                        <a href="mis#">
									<span class="header clearfix">
										<span class="pull-left">Software Update</span>
										<span class="pull-right">60%</span>
									</span>

                            <div class="progress">
                                <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60"
                                     aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
                                    <span class="sr-only">60% Complete</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="mis#">
									<span class="header clearfix">
										<span class="pull-left">Software Update</span>
										<span class="pull-right">65%</span>
									</span>

                            <div class="progress">
                                <div class="progress-bar progress-bar-success" style="width: 35%">
                                    <span class="sr-only">35% Complete (success)</span>
                                </div>
                                <div class="progress-bar progress-bar-warning" style="width: 20%">
                                    <span class="sr-only">20% Complete (warning)</span>
                                </div>
                                <div class="progress-bar progress-bar-danger" style="width: 10%">
                                    <span class="sr-only">10% Complete (danger)</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="footer">
                        <a href="mis#">See all tasks <i class="fa fa-arrow-circle-right"></i></a>
                    </li>
                </ul>
            </li>
            <!-- END TODO DROPDOWN -->
            <!-- BEGIN USER LOGIN DROPDOWN -->
            <li class="dropdown user" id="header-user">
                <a href="mis#" class="dropdown-toggle" data-toggle="dropdown">
                    <img alt="" src="img/avatars/avatar3.jpg"/>
                    <span class="username">John Doe</span>
                    <i class="fa fa-angle-down"></i>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="mis#"><i class="fa fa-user"></i> My Profile</a></li>
                    <li><a href="mis#"><i class="fa fa-cog"></i> Account Settings</a></li>
                    <li><a href="mis#"><i class="fa fa-eye"></i> Privacy Settings</a></li>
                    <li><a href="mislogin.html"><i class="fa fa-power-off"></i> Log Out</a></li>
                </ul>
            </li>
            <!-- END USER LOGIN DROPDOWN -->
        </ul>
        <!-- END TOP NAVIGATION MENU -->
    </div>

    <!-- TEAM STATUS -->
    <div class="container team-status" id="team-status">
        <div id="scrollbar">
            <div class="handle">
            </div>
        </div>
        <div id="teamslider">
            <ul class="team-list">
                <li class="current">
                    <a href="misjavascript:void(0);">
				  <span class="image">
					  <img src="img/avatars/avatar3.jpg" alt=""/>
				  </span>
				  <span class="title">
					You
				  </span>

                        <div class="progress">
                            <div class="progress-bar progress-bar-success" style="width: 35%">
                                <span class="sr-only">35% Complete (success)</span>
                            </div>
                            <div class="progress-bar progress-bar-warning" style="width: 20%">
                                <span class="sr-only">20% Complete (warning)</span>
                            </div>
                            <div class="progress-bar progress-bar-danger" style="width: 10%">
                                <span class="sr-only">10% Complete (danger)</span>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="misjavascript:void(0);">
				  <span class="image">
					  <img src="img/avatars/avatar1.jpg" alt=""/>
				  </span>
				  <span class="title">
					Max Doe
				  </span>

                        <div class="progress">
                            <div class="progress-bar progress-bar-success" style="width: 15%">
                                <span class="sr-only">35% Complete (success)</span>
                            </div>
                            <div class="progress-bar progress-bar-warning" style="width: 40%">
                                <span class="sr-only">20% Complete (warning)</span>
                            </div>
                            <div class="progress-bar progress-bar-danger" style="width: 20%">
                                <span class="sr-only">10% Complete (danger)</span>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="misjavascript:void(0);">
				  <span class="image">
					  <img src="img/avatars/avatar2.jpg" alt=""/>
				  </span>
				  <span class="title">
					Jane Doe
				  </span>

                        <div class="progress">
                            <div class="progress-bar progress-bar-success" style="width: 65%">
                                <span class="sr-only">35% Complete (success)</span>
                            </div>
                            <div class="progress-bar progress-bar-warning" style="width: 10%">
                                <span class="sr-only">20% Complete (warning)</span>
                            </div>
                            <div class="progress-bar progress-bar-danger" style="width: 15%">
                                <span class="sr-only">10% Complete (danger)</span>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="misjavascript:void(0);">
				  <span class="image">
					  <img src="img/avatars/avatar4.jpg" alt=""/>
				  </span>
				  <span class="title">
					Ellie Doe
				  </span>

                        <div class="progress">
                            <div class="progress-bar progress-bar-success" style="width: 5%">
                                <span class="sr-only">35% Complete (success)</span>
                            </div>
                            <div class="progress-bar progress-bar-warning" style="width: 48%">
                                <span class="sr-only">20% Complete (warning)</span>
                            </div>
                            <div class="progress-bar progress-bar-danger" style="width: 27%">
                                <span class="sr-only">10% Complete (danger)</span>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="misjavascript:void(0);">
				  <span class="image">
					  <img src="img/avatars/avatar5.jpg" alt=""/>
				  </span>
				  <span class="title">
					Lisa Doe
				  </span>

                        <div class="progress">
                            <div class="progress-bar progress-bar-success" style="width: 21%">
                                <span class="sr-only">35% Complete (success)</span>
                            </div>
                            <div class="progress-bar progress-bar-warning" style="width: 20%">
                                <span class="sr-only">20% Complete (warning)</span>
                            </div>
                            <div class="progress-bar progress-bar-danger" style="width: 40%">
                                <span class="sr-only">10% Complete (danger)</span>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="misjavascript:void(0);">
				  <span class="image">
					  <img src="img/avatars/avatar6.jpg" alt=""/>
				  </span>
				  <span class="title">
					Kelly Doe
				  </span>

                        <div class="progress">
                            <div class="progress-bar progress-bar-success" style="width: 45%">
                                <span class="sr-only">35% Complete (success)</span>
                            </div>
                            <div class="progress-bar progress-bar-warning" style="width: 21%">
                                <span class="sr-only">20% Complete (warning)</span>
                            </div>
                            <div class="progress-bar progress-bar-danger" style="width: 10%">
                                <span class="sr-only">10% Complete (danger)</span>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="misjavascript:void(0);">
				  <span class="image">
					  <img src="img/avatars/avatar7.jpg" alt=""/>
				  </span>
				  <span class="title">
					Jessy Doe
				  </span>

                        <div class="progress">
                            <div class="progress-bar progress-bar-success" style="width: 7%">
                                <span class="sr-only">35% Complete (success)</span>
                            </div>
                            <div class="progress-bar progress-bar-warning" style="width: 30%">
                                <span class="sr-only">20% Complete (warning)</span>
                            </div>
                            <div class="progress-bar progress-bar-danger" style="width: 10%">
                                <span class="sr-only">10% Complete (danger)</span>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="misjavascript:void(0);">
				  <span class="image">
					  <img src="img/avatars/avatar8.jpg" alt=""/>
				  </span>
				  <span class="title">
					Debby Doe
				  </span>

                        <div class="progress">
                            <div class="progress-bar progress-bar-success" style="width: 70%">
                                <span class="sr-only">35% Complete (success)</span>
                            </div>
                            <div class="progress-bar progress-bar-warning" style="width: 20%">
                                <span class="sr-only">20% Complete (warning)</span>
                            </div>
                            <div class="progress-bar progress-bar-danger" style="width: 5%">
                                <span class="sr-only">10% Complete (danger)</span>
                            </div>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <!-- /TEAM STATUS -->
</header>

<section id="page">

    <!-- 左侧导航栏 -->
    <div id="sidebar" class="sidebar">
        <div class="sidebar-menu nav-collapse">
            <div class="divide-20"></div>
            <!-- SIDEBAR MENU -->
            <ul>
                <li>
                    <a href="/mis/index.html">
                        <i class="fa fa-tachometer fa-fw"></i> <span class="menu-text">首页</span>
                        <span class="selected"></span>
                    </a>
                </li>
                <li class="has-sub">
                    <a class="">
                        <i class="fa fa-table fa-fw"></i> <span class="menu-text">油罐管理</span>
                        <span class="arrow open"></span>
                        <span class="selected"></span>
                    </a>
                    <ul class="sub">
                        <li><a class="" href="/mis/oilCanList.html"><span class="sub-menu-text">油罐信息</span></a>
                        </li>
                        <li><a class="" href="/mis/oilCanFeeding.html"><span class="sub-menu-text">进油报表</span></a>
                        </li>
                    </ul>
                </li>
                <li class="has-sub">
                    <a class="">
                        <i class="fa fa-table fa-fw"></i> <span class="menu-text">信息管理</span>
                        <span class="arrow open"></span>
                        <span class="selected"></span>
                    </a>
                    <ul class="sub">
                        <li><a class="" href="/mis/districtAndDepartment.html"><span class="sub-menu-text">区域部门</span></a>
                        </li>
                        <li><a class="" href="/mis/oilTypeAndProduct.html"><span class="sub-menu-text">油品油料</span></a>
                        </li>
                        <li><a class="" href="/mis/oilStationStaff.html"><span class="sub-menu-text">油站员工</span></a>
                        </li>
                    </ul>
                </li>
                <li class="has-sub">
                    <a class="">
                        <i class="fa fa-pencil-square-o fa-fw"></i> <span class="menu-text">用户管理</span>
                        <span class="arrow"></span>
                    </a>
                    <ul class="sub">
                        <li><a class="" href="/mis/userSettingForm.html"><span class="sub-menu-text">用户信息管理</span></a></li>
                    </ul>
                </li>
                <li class="has-sub">
                    <a href="me.html">
                        <i class="fa fa-pencil-square-o fa-fw"></i> <span class="menu-text">个人中心</span>
                        <span class="arrow"></span>
                    </a>
                </li>
            </ul>
            <!-- /SIDEBAR MENU -->
        </div>
    </div>
    <!-- 左侧导航栏 -->

    <!-- 右侧显示内容 -->
    <div id="main-content">
        <!-- SAMPLE BOX CONFIGURATION MODAL FORM-->
        <div class="modal fade" id="box-config" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
             aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">Box Settings</h4>
                    </div>
                    <div class="modal-body">
                        Here goes box setting content.
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- /SAMPLE BOX CONFIGURATION MODAL FORM-->
        <div class="container">
            <div class="row">
                    <!--筛选框-->
                    <div id="content" class="col-lg-12">
                    
                    <form class="form-horizontal" role="form">
                        <fieldset>
                            <legend></legend>
                        </fieldset>
                        <div class="form-group">
                            <label class="col-sm-1 control-label" for="filter_districtName_selection">区域名称</label>
                            <div class="col-sm-2">
                                <select id="filter_districtName_selection" class="selectpicker form-control"></select>
                            </div>

                            <label class="col-sm-1 control-label" for="filter_departmentName_selection">所属部门</label>
                            <div class="col-sm-2">
                                <select id="filter_departmentName_selection" class="selectpicker form-control"></select>
                            </div>
                            
                            <label class="col-sm-1 control-label" for="filter_groupName_selection">所属组</label>
                            <div class="col-sm-2">
                                <select id="filter_groupName_selection" class="selectpicker form-control"></select>
                            </div>
                            <a class="btn btn-primary" onclick="getUserList()">点击查询</a>
                            <a class="btn btn-primary btn-danger" onclick="getUserListAjax()">查看全部</a>
                        </div>
                    </form>
                    <fieldset>
                        <legend></legend>
                    </fieldset>
                    
                    <!-- SIMPLE STRIPED -->
                    <div class="row ">
                        <div class="col-md-12">
                            <!-- BOX -->
                            <div class="box border pink">
                                <div class="box-title">
                                    <h4><i class="fa fa-table"></i>油站员工列表</h4>

                                    <div class="tools">
                                        <a onclick="$('#addUserModal').modal();" data-toggle="modal">新增</a>
                                    </div>
                                </div>

                                <div id="stationStaffListTableDiv" class="box-body">
                                    <table id="stationStaffListTable" class="table table-striped table-hover ">
                                        <thead>
                                        <tr>
                                            <th>选择</th>
                                            <th style="display: none">#</th>
                                            <th>用户名</th>
                                            <th>密  码</th>
                                            <th>所属地区</th>
                                            <th>所属部门</th>
                                            <th>用户组名</th>
                                            <th>身  份</th>
                                            <th>权限级别</th>
                                            <th>操  作</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <!-- /BOX -->
                        </div>
                    </div>

                    <!-- SIMPLE STRIPED -->
                    <div class="separator"></div>
                    <div class="footer-tools">
							<span class="go-top">
								<i class="fa fa-chevron-up"></i> Top
							</span>
                    </div>
                </div>
                <!-- /CONTENT-->
                <div class="separator"></div>
            </div>
        </div>
    </div>
</section>

<!-- 增加新员工boostrap模态框-->
<div class="modal fade" id="addUserModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">新增登录用户</h4>
            </div>
            <div class="modal-body">

                <form role="form">

                    <div class="form-group">
                        <label for="userName">用户名</label>
                        <input type="text" class="form-control" id="userName" name="userName" placeholder="请输入员工编号名称">
                    </div>
                    <div class="form-group">
                        <label for="password">密码</label>
                        <input type="text" class="form-control" id="password" name="password" placeholder="请输入员工编号名称">
                    </div>
                    <div class="form-group">
                        <label for="districtName_selection">所属区域</label>
                        <div>
                            <select id="districtName_selection" class="selectpicker form-control"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="departmentName_selection">所属部门</label>
                        <div>
                            <select id="departmentName_selection" class="selectpicker form-control"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="groupName_selection">用户组</label>
                        <div>
                            <select id="groupName_selection" class="selectpicker form-control"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="userInfo">用户信息</label>
                        <input type="text" class="form-control" id="userInfo" name="userInfo" placeholder="如主任、总监等">
                    </div>
                    <div class="form-group">
                        <label for="role_selection">权限级别</label>
                        <div>
                            <select id="role_selection" class="selectpicker form-control"></select>
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button onclick="javascript:addUser()" type="button" class="btn btn-primary">提交</button>
            </div>
        </div>
    </div>
</div>

<!-- 更新已有员工信息boostrap模态框-->
<div class="modal fade" id="updateUserModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">更新部门信息</h4>
            </div>
            <div class="modal-body">

                <form role="form">
                    <input style="display: none" id="update_id">
                    <div class="form-group">
                        <label for="userName">用户名</label>
                        <input type="text" class="form-control" id="update_userName" name="userName" placeholder="请输入登录名">
                    </div>
                    <div class="form-group">
                        <label for="password">密码</label>
                        <input type="text" class="form-control" id="update_password" name="password" placeholder="请输入登录密码">
                    </div>
                    <div class="form-group">
                        <label for="update_districtName_selection">所属区域</label>
                        <div>
                            <select id="update_districtName_selection" class="selectpicker form-control" placeholder="请选择用户所属区域"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="update_departmentName_selection">所属部门</label>
                        <div>
                            <select id="update_departmentName_selection" class="selectpicker form-control"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="groupName_selection">用户组</label>
                        <div>
                            <select id="update_groupName_selection" class="selectpicker form-control"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="userInfo">用户信息</label>
                        <input type="text" class="form-control" id="update_userInfo" name="userInfo" placeholder="如主任、总监等">
                    </div>
                    <div class="form-group">
                        <label for="role_selection">权限级别</label>
                        <div>
                            <select id="update_role_selection" class="selectpicker form-control"></select>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button onclick="javascript:updateUserStaff()" type="button" class="btn btn-primary">提交</button>
            </div>
        </div>
    </div>
</div>


<!-- 删除确认模态框 -->
<div class="modal fade" id="deleteConfirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="selectionMessage_title">删除确认</h4>
            </div>
            <div>
                <p style="text-align:center; font-size: 16px;">您确定要删除此记录？</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button onclick="javascript:deleteUser()" type="button" class="btn btn-primary">删除</button>
            </div>
        </div>
    </div>
</div>

<script src="js/jquery/jquery-2.0.3.min.js"></script>
<!-- JQUERY UI-->
<script src="js/jquery-ui-1.10.3.custom/js/jquery-ui-1.10.3.custom.min.js"></script>
<!-- BOOTSTRAP -->
<script src="bootstrap-dist/js/bootstrap.min.js"></script>

<!-- SLIMSCROLL -->
<script type="text/javascript" src="js/jQuery-slimScroll-1.3.0/jquery.slimscroll.min.js"></script>
<script type="text/javascript" src="js/jQuery-slimScroll-1.3.0/slimScrollHorizontal.min.js"></script>
<!-- BLOCK UI -->
<script type="text/javascript" src="js/jQuery-BlockUI/jquery.blockUI.min.js"></script>
<!-- TABLE CLOTH -->
<script type="text/javascript" src="js/tablecloth/js/jquery.tablecloth.js"></script>
<script type="text/javascript" src="js/tablecloth/js/jquery.tablesorter.min.js"></script>
<!-- COOKIE -->
<script type="text/javascript" src="js/jQuery-Cookie/jquery.cookie.min.js"></script>


<!-- CUSTOM SCRIPT -->
<script src="js/script.js"></script>
<script type="text/javascript">

	jQuery(document).ready(function () {
	  App.setPage("userSettingForm");  //Set current page
	  App.init(); //Initialise plugins and elements

	});

    //新增网站登录新用户
    function addUser() {

        var userName = document.getElementById('userName').value;
        var password = document.getElementById('password').value;
        var districtName = document.getElementById('districtName_selection').value;
        var departmentName = document.getElementById('departmentName_selection').value;
        var groupName = document.getElementById('groupName_selection').value;
        var userInfo = document.getElementById('userInfo').value;
        var role = document.getElementById('role_selection').value;

        //拼接字符串
        var requestData = "userName=" + userName +
                "&password=" + password +
                "&districtName=" + districtName +
                "&departmentName=" + departmentName +
                "&groupName=" + groupName +
                "&userInfo=" + userInfo +
                "&role=" + role;

        $.ajax({
            type: "POST",
            url: "../user/add",
            timeout: 10000,
            async: false,
            contentType: "application/x-www-form-urlencoded",
            data: requestData,
            dataType: "json",
            success: function (data) {
                switch (data.retCode) {
                    case 200:
                        alert("添加用户成功");
                        window.location.reload();
                        break;
                    default:
                        alert(data.retDesc);
                        break;
                }
            },
            error: function (data) {
                alert("页面提交出错，错误信息为：" + data);
            }

        });
    }

    //更新网站员工
    function updateUserStaff() {
        var id = document.getElementById('update_id').value;
        var userName = document.getElementById('update_userName').value;
        var password = document.getElementById('update_password').value;
        var districtName = document.getElementById('update_districtName_selection').value;
        var departmentName = document.getElementById('update_departmentName_selection').value;
        var groupName = document.getElementById('update_groupName_selection').value;
        var userInfo = document.getElementById('update_userInfo').value;
        var role = document.getElementById('update_role_selection').value;
        //拼接字符串
        var requestData = "id=" + id + "&userName=" + userName +
                "&password=" + password +
                "&districtName=" + districtName +
                "&departmentName=" + departmentName +
                "&groupName=" + groupName +
                "&userInfo=" + userInfo +
                "&role=" + role;

        $.ajax({
            type: "POST",
            url: "../user/update",
            timeout: 10000,
            async: false,
            contentType: "application/x-www-form-urlencoded",
            data: requestData,
            dataType: "json",
            success: function (data) {
                switch (data.retCode) {
                    case 200:
                        alert("编辑员工信息成功");
                        window.location.reload();
                        break;
                    default:
                        alert(data.retDesc);
                        break;
                }
            },
            error: function (data) {
                alert("页面提交出错，错误信息为：" + data);
            }

        });
    }

    function deleteUser(id){

        var deleteRequest = "id="+deleteId;
        $.ajax({
            type: "POST",
            url: "../user/delete",
            timeout: 20000,
            contentType: "application/x-www-form-urlencoded",
            data: deleteRequest,
            dataType: "json",
            success: function (data) {
                switch (data.retCode) {
                    case 200:
                        alert(data.retDesc);
                        window.location.reload();
                        break;
                    default:
                        alert(data.retDesc);
                        break;
                }
            },
            error: function (data) {
                alert("页面提交出错，错误信息为：" + data);
            }

        });

    }


    //编辑油站员工信息,弹出更新模态框
    function editStationStaff(rowRadio){

        $('#updateUserModal').modal();
        var tr = rowRadio.parentNode.parentNode;
        var tds = tr.cells;
        //第一列为单选按钮，从1开始为item内容
        //按照顺序进行获取每个字段的值
        var id=tds[1].innerHTML;
        var userName=tds[2].innerHTML;
        var password=tds[3].innerHTML;
        var districtName=tds[4].innerHTML;
        var departmentName=tds[5].innerHTML;
        var groupName=tds[6].innerHTML;
        var userInfo=tds[7].innerHTML;
        var role=tds[8].innerHTML;

        document.getElementById("update_id").value = id;
        document.getElementById("update_userName").value = userName;
        document.getElementById("update_password").value = password;
        document.getElementById("update_userInfo").value = userInfo;

        jQuery.each(districtList,function(i,item){
            if(districtName == item){
                $("#update_districtName_selection").val(districtName);
                return false;
            }
        });

        jQuery.each(departmentNameList,function(i,item){
            if(departmentName == item){
                $("#update_departmentName_selection").val(departmentName);
                return false;
            }
        });

        jQuery.each(groupNameList,function(i,item){
            if(groupName == item){
                $("#update_groupName_selection").val(groupName);
                return false;
            }
        });

        jQuery.each(userRoleList,function(i,item){
            if(role == item){
                $("#update_role_selection").val(role);
                return false;
            }
        });
    }

    var deleteId = -1;
    function deleteUserModal(row){
        $('#deleteConfirmModal').modal();
        var tr = row.parentNode;
        var tds = tr.cells;
        var id=tds[1].innerHTML;
        deleteId = id;
    }

    //用户所在区域列表
    var districtList = new Array();
    $(document).ready(function () {
        $.ajax({
            type: "GET",
            url: "../user/oil/getDistrictList",
            timeout: 20000,
            contentType: "application/x-www-form-urlencoded",
            dataType: "json",
            success: function (data) {
                switch (data.retCode) {
                    case 200:
                        var str = '';
                        jQuery.each(data.list, function (i, item) {
                            str += "<option value='"+item.districtName+"'>"+item.districtName+"</option>";
                            districtList.push(item.districtName);
                        });

                        $("#districtName_selection").html(str);
                        $("#filter_districtName_selection").html(str);
                        $("#update_districtName_selection").html(str);
                        break;
                    default:
                        alert(data.retDesc);
                        break;
                }
            },
            error: function (data) {
                alert("页面提交出错，错误信息为：" + data);
            }

        });

    });


    //用户所属部门枚举列表
    var departmentNameList = new Array();
    $(document).ready(function () {
        $.ajax({
            type: "GET",
            url: "../user/oil/getDepartmentTypeList",
            timeout: 20000,
            contentType: "application/x-www-form-urlencoded",
            dataType: "json",
            success: function (data) {
                switch (data.retCode) {
                    case 200:
                        var str = '';
                        jQuery.each(data.list, function (i, item) {
                            str += "<option value='"+item.departmentName+"'>"+item.departmentName+"</option>";
                            departmentNameList.push(item.departmentName);
                        });

                        $("#departmentName_selection").html(str);
                        $("#filter_departmentName_selection").html(str);
                        $("#update_departmentName_selection").html(str);
                        break;
                    default:
                        alert(data.retDesc);
                        break;
                }
            },
            error: function (data) {
                alert("页面提交出错，错误信息为：" + data);
            }

        });

    });

    //用户所属组枚举列表
    var groupNameList = new Array();
    $(document).ready(function () {
        $.ajax({
            type: "GET",
            url: "../user/oil/getUserGroupList",
            timeout: 20000,
            contentType: "application/x-www-form-urlencoded",
            dataType: "json",
            success: function (data) {
                switch (data.retCode) {
                    case 200:
                        var str = '';
                        jQuery.each(data.list, function (i, item) {
                            str += "<option value='"+item.groupName+"'>"+item.groupName+"</option>";
                            groupNameList.push(item.groupName);
                        });

                        $("#groupName_selection").html(str);
                        $("#filter_groupName_selection").html(str);
                        $("#update_groupName_selection").html(str);
                        break;
                    default:
                        alert(data.retDesc);
                        break;
                }
            },
            error: function (data) {
                alert("页面提交出错，错误信息为：" + data);
            }

        });

    });

    //用户权限枚举列表
    var userRoleList = new Array();
    $(document).ready(function () {

        $.ajax({	        type: "GET",
            url: "../user/getPriorityList",
            timeout: 20000,
            contentType: "application/x-www-form-urlencoded",
            dataType: "json",
            success: function (data) {
                switch (data.retCode) {
                    case 200:
                        var str = '';
                        jQuery.each(data.list, function (i, item) {
                            str += "<option value='"+item.roleCode+"'>"+item.roleName+"</option>";
                            userRoleList.push(item.roleName);
                        });

                        $("#role_selection").html(str);
                        $("#filter_role_selection").html(str);
                        $("#update_role_selection").html(str);
                        break;
                    default:
                        alert(data.retDesc);
                        break;
                }
            },
            error: function (data) {
                alert("页面提交出错，错误信息为：" + data);
            }

        });

    });

    //所有用户列表
    function getUserList(){
        var districtName = document.getElementById("filter_districtName_selection").value;
        var departmentName = document.getElementById("filter_departmentName_selection").value;
        var groupName = document.getElementById("filter_groupName_selection").value;
        var getUserListRequest = "districtName="+districtName+"&departmentName="+departmentName+"&groupName="+groupName;
        getUserListAjax(getUserListRequest);
    }

    //所有用户列表
    $(document).ready(function () {
        getUserListAjax();
    });

    function getUserListAjax (getUserListRequest){

        $.ajax({
            type: "GET",
            url: "../user/getUserList",
            timeout: 20000,
            contentType: "application/x-www-form-urlencoded",
            data: getUserListRequest,
            dataType: "json",
            async:false,
            success: function (data) {
                switch (data.retCode) {
                    case 200:
                        var str = '';
                        jQuery.each(data.list, function (i, item) {
                            str += "<tr>"
                                    +"<td><input class='radio' type='radio' name='oilTypeRadio' id='oilTypeRadio_item.id' onclick='editStationStaff(this)'/></td>"
                                    +"<td name='id' style='display: none'>" + item.id + "</td>"
                                    +"<td name='userName'>" + item.userName + "</td>"
                                    +"<td name='password'>" + item.password + "</td>"
                                    +"<td name='districtName'>" + item.districtName + "</td>"
                                    +"<td name='departmentName'>" + item.departmentName + "</td>"
                                    +"<td name='groupName'>" + item.groupName + "</td>"
                                    +"<td name='userInfo'>" + item.userInfo + "</td>"
                                    +"<td name='role'>" + item.role + "</td>"
                                    +"<td onclick='deleteUserModal(this)'>" + '删除' + "</td>"
                                    +"</tr>";
                        });
//                        $("#stationStaffListTable tbody").empty();
                        $("#stationStaffListTable tbody").html(str);
                        break;
                    default:
                        alert(data.retDesc);
                        break;
                }
            },
            error: function (data) {
                alert("页面提交出错，错误信息为：" + data);
            }

        });
    }

</script>

</body>
</html>